\section{Installation and the MHA License}\label{sec:license}

The MHA software uses software protection to prevent unauthorized copying.
For usage of the MHA, you have received a USB dongle. This USB dongle has to
be inserted in the computer that runs the MHA software.

\subsection{Installation on Windows}

When you install the MHA for the first time on a Windows PC, 
find the directory \texttt{license} in your MHA distribution 
and execute the file \texttt{haspdinst.exe} 
with command line parameter \texttt{-install}.
This will install a driver for your USB dongle.

\subsection{Installation on Ubuntu Linux}

For some releases of the Ubuntu Linux distribution, H\"orTech provides software packages in the .deb format on demand. Please ask for the currently recommended version of Ubuntu.

For best audio latency results, install a realtime patched kernel, and configure the system for optimum audio performance. Doing so is outside the scope of this document.

H\"orTech distributes the license demon and the MHA in two distinct packages.
Use the \texttt{dpkg ---install \textit{<package-filename>}} command on the command line to install these packages.

The MHA packages may depend on other packages provided by Ubuntu.
If you get an error message about missing dependencies, install the dependencies next and then repeat the \texttt{dpkg ---install \textit{<package-filename>}} command.

Installing the license demon package aksusbd takes care of starting the license
demon after installation and every time the system boots. Installing the mha
package copies the executables into \texttt{/usr/bin}, the plugins in \texttt{/usr/lib}, demo configuration files in \texttt{/etc/mha}, and more. execute \texttt{dpkg -L mha\textit{<press TAB here for autocompletion>}}
to see the list of installed files.

\subsection{Installation on other Linux distributions}

Your kernel needs support for the usbfs file system.
This support is included in all major binary distributions.
Some distributions automatically mount the usbfs file system for you.
You can check if the file system is already mounted by executing the
mount command without any options. If you see a line like this 

\texttt{procbususb on /proc/bus/usb type usbfs (rw)}\footnote{
Since no real device is associated with this file system, the device
name (1st entry on the line) is not relevant. It does not make a difference
if the line starts with e.g. \texttt{none} or \texttt{usbdevfs}.}

in the output, then the file system is already loaded.
If the file system is not loaded, then you can activate it on the command 
line (as root) with the command

\texttt{mount -t usbfs usbdevfs /proc/bus/usb}

If the file system is not automatically loaded on your linux system,
then we suggest that you extend your /etc/fstab file with a line that reads

\texttt{usbdevfs  /proc/bus/usb usbfs defaults 0 0}

To start the dongle driver, find the directory \texttt{license}
in your MHA distribution and extract the package
\texttt{HDD\_Linux\_USB\_daemon.tar.gz} in there.
Become root and execute the extracted program \texttt{aksusbd}.
This program starts a license manager demon in the background.
We recommend to include the invocation of the \texttt{aksusbd}
license manager demon in your system's startup skript.

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "openMHA_application_manual"
%%% End: 
